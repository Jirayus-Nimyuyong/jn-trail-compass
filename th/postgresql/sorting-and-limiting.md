# การเรียงลำดับและการจำกัดข้อมูล (Sorting and Limiting)

## บทนำ

ในฐานข้อมูล SQL, การเรียงลำดับข้อมูล (Sorting) และการจำกัดจำนวนข้อมูล (Limiting) เป็นกระบวนการที่สำคัญในการจัดการผลลัพธ์ของการสืบค้นข้อมูลให้มีความถูกต้องและมีประสิทธิภาพ การใช้คำสั่ง **ORDER BY** สำหรับการเรียงลำดับ และคำสั่ง **LIMIT** สำหรับการจำกัดจำนวนแถวผลลัพธ์ จะช่วยให้ผู้ใช้สามารถดึงข้อมูลที่ต้องการได้อย่างรวดเร็วและมีความแม่นยำมากขึ้น

## 1. **ORDER BY** - การเรียงลำดับข้อมูล

คำสั่ง **ORDER BY** ใช้ในการเรียงลำดับข้อมูลที่ได้จากคำสั่ง **SELECT** ตามคอลัมน์ที่ต้องการ โดยสามารถเลือกเรียงลำดับจากน้อยไปมาก (ASC) หรือจากมากไปน้อย (DESC)

### การใช้งาน:
```sql
SELECT column1, column2, ... 
FROM table_name 
ORDER BY column_name [ASC|DESC];
```

### ตัวอย่าง:
```sql
SELECT name, age FROM students ORDER BY age ASC;
```
ในตัวอย่างนี้ ข้อมูลจากตาราง **students** จะถูกเรียงลำดับตามคอลัมน์ **age** จากน้อยไปหามาก

### การเรียงลำดับหลายคอลัมน์:
เราสามารถเรียงลำดับข้อมูลตามหลายคอลัมน์ได้ โดยใช้คอลัมน์แรกเป็นลำดับที่สำคัญที่สุด และคอลัมน์ถัดไปเป็นลำดับที่สอง

```sql
SELECT name, age, grade 
FROM students 
ORDER BY grade DESC, age ASC;
```
ในตัวอย่างนี้ ข้อมูลจะถูกเรียงลำดับตามคอลัมน์ **grade** จากมากไปหาน้อย และถ้ามีค่า **grade** เท่ากันจะเรียงลำดับตาม **age** จากน้อยไปหามาก

## 2. **LIMIT** - การจำกัดจำนวนข้อมูล

คำสั่ง **LIMIT** ใช้ในการจำกัดจำนวนแถวของข้อมูลที่ต้องการแสดงผล โดยมักจะใช้ร่วมกับคำสั่ง **ORDER BY** เพื่อแสดงผลลัพธ์ที่ตรงตามความต้องการ เช่น การดึงข้อมูลแถวแรกสุดหรือแถวล่าสุด

### การใช้งาน:
```sql
SELECT column1, column2, ... 
FROM table_name 
LIMIT number;
```

### ตัวอย่าง:
```sql
SELECT * FROM students ORDER BY age DESC LIMIT 5;
```
ในตัวอย่างนี้ ข้อมูลจากตาราง **students** จะถูกเรียงลำดับตามคอลัมน์ **age** จากมากไปหาน้อย และจะดึงแค่ 5 แถวแรกสุดเท่านั้น

## 3. การใช้ **OFFSET** กับ **LIMIT**

คำสั่ง **OFFSET** ใช้ในการข้ามแถวบางแถวก่อนที่จะเริ่มแสดงผลลัพธ์ โดยมักจะใช้ร่วมกับคำสั่ง **LIMIT** ในการทำการแบ่งหน้า (pagination)

### การใช้งาน:
```sql
SELECT column1, column2, ... 
FROM table_name 
ORDER BY column_name 
LIMIT number OFFSET offset_value;
```

### ตัวอย่าง:
```sql
SELECT * FROM students ORDER BY age DESC LIMIT 5 OFFSET 10;
```
ในตัวอย่างนี้ ข้อมูลจากตาราง **students** จะถูกเรียงลำดับตามคอลัมน์ **age** จากมากไปหาน้อย โดยจะข้ามแถวแรก 10 แถว และแสดงผลลัพธ์ 5 แถวถัดไป

## 4. การใช้งาน **DISTINCT** ร่วมกับการเรียงลำดับ

คำสั่ง **DISTINCT** ใช้ในการดึงข้อมูลที่ไม่ซ้ำกันจากตาราง หากต้องการใช้คำสั่ง **DISTINCT** ร่วมกับการเรียงลำดับข้อมูล สามารถทำได้ดังนี้:

### ตัวอย่าง:
```sql
SELECT DISTINCT age FROM students ORDER BY age DESC;
```
ในตัวอย่างนี้ ข้อมูลจะถูกดึงออกมาโดยไม่ซ้ำกันในคอลัมน์ **age** และจะถูกเรียงลำดับจากมากไปหาน้อย

## สรุป

การเรียงลำดับและการจำกัดข้อมูลเป็นเครื่องมือที่สำคัญในการจัดการผลลัพธ์จากคำสั่ง **SELECT** ใน SQL การใช้คำสั่ง **ORDER BY** ช่วยให้สามารถเรียงลำดับข้อมูลได้ตามต้องการ ส่วนคำสั่ง **LIMIT** ช่วยในการจำกัดจำนวนข้อมูลที่แสดงผลได้อย่างมีประสิทธิภาพ นอกจากนี้การใช้คำสั่ง **OFFSET** ยังสามารถช่วยในการทำการแบ่งหน้า (pagination) ให้เหมาะสมกับการใช้งานในระบบที่ต้องการแสดงข้อมูลในจำนวนแถวที่จำกัด
